function drawSlide()
{
	if(secretSlideEntrance) { title = 'Slide'; }
	else { title = '???'; }
	// gameEnd = true; 
    //resetting dungeon parameters
	ctx.fillStyle = "#000000";
	ctx.fillRect(0, 0, viewport.screen[0], viewport.screen[1]);

	secretSlideEntrance = true;
    const slideMapW = 14;
	const slideMapH = 290;

	let r = randomInt(1);
	let m = null;
	let x = undefined;
	const slideGameMap = 
[46, 46, 46, 0,  0,  0,  0,  0,  0,  0,  0,  46, 46, 46, 
 46, 46, 0,  0,  56, 0,  0,  0,  0,  0,  0,  0,  46, 46, 
 46, 0,  0,  0,  1,  111,111,111,111,1,  0,  0,  0,  46, 
 0,  0,  0,  0,  0,  0,  0,  0,  0,  52, 0,  0,  0,  0,  
 0,  0,  1,  1,  1,  1,  1,  1,  1,  1,  1,  1,  0,  0,  
 0,  0,  75, 0,  0,  75, 0,  0,  75, 0,  0,  75, 0,  0,  
 0,  0,  59, 0,  0,  59, 0,  0,  59, 0,  0,  59, 0,  0,  
 0,  0,  59, 0,  0,  59, 0,  0,  59, 0,  0,  59, 0,  0,  
 0,  0,  59, 0,  0,  59, 0,  0,  59, 0,  0,  59, 0,  0,  
 0,  0,  59, 0,  0,  59, 0,  0,  59, 0,  0,  59, 0,  0,  
 0,  0,  59, 0,  200,59, 200,200,59, 200,0,  59, 0,  0,  
 0,  0,  59, 200,0,  59, 200,200,59, 0,  200,59, 0,  0,  
 0,  0,  59, 0,  200,59, 200,200,59, 200,0,  59, 0,  0,  
 0,  0,  59, 200,0,  59, 200,200,59, 0,  200,59, 0,  0,   
 0,  0,  59, 0,  200,59, 200,200,59, 200,0,  59, 0,  0,  
 0,  0,  59, 200,0,  59, 200,200,59, 0,  200,59, 0,  0,  
 0,  0,  59, 0,  200,59, 200,200,59, 200,0,  59, 0,  0,  
 0,  0,  59, 200,0,  59, 200,200,59, 0,  200,59, 0,  0,    
 0,  0,  59, 0,  200,59, 200,200,59, 200,0,  59, 0,  0,  
 0,  0,  59, 200,0,  59, 200,200,59, 0,  200,59, 0,  0,  
 0,  0,  59, 0,  200,59, 200,200,59, 200,0,  59, 0,  0,  
 0,  0,  59, 200,0,  59, 200,200,59, 0,  200,59, 0,  0,    
 0,  0,  59, 0,  200,59, 200,200,59, 200,0,  59, 0,  0,  
 0,  0,  59, 200,0,  59, 200,200,59, 0,  200,59, 0,  0,  
 0,  0,  59, 0,  200,59, 200,200,59, 200,0,  59, 0,  0,  
 0,  0,  59, 200,0,  59, 200,200,59, 0,  200,59, 0,  0,   
 0,  0,  59, 0,  200,59, 200,200,59, 200,0,  59, 0,  0,  
 0,  0,  59, 200,0,  59, 200,200,59, 0,  200,59, 0,  0,  
 0,  0,  59, 0,  200,59, 200,200,59, 200,0,  59, 0,  0,  
 0,  0,  59, 0,  0,  77, 75, 75, 76, 0,  0,  59, 0,  0,  
 0,  0,  77, m,  m,  75, m,  m,  75, m,  m,  76, 0,  0,  
 0,  0,  0,  0,  0,  m,  m,  m,  m,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  m,  145,145,m,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  m,  145,145,m,  0,  0,  0,  0,  0,  
 0,  0,  146,0,  0,  m,  145,145,m,  0,  0,  147,0,  0,  
 0,  0,  0,  0,  0,  m,  145,145,m,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  m,  145,145,m,  0,  0,  0,  0,  0,  
 0,  0,  146,0,  0,  m,  145,145,m,  0,  0,  147,0,  0,  
 0,  0,  0,  0,  0,  m,  145,145,m,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  m,  145,145,m,  0,  0,  0,  0,  0,  
 0,  0,  146,0,  0,  m,  145,145,m,  0,  0,  147,0,  0,  
 0,  0,  0,  0,  0,  m,  145,145,m,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  m,  145,145,m,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  m,  m,  m,  m,  0,  0,  0,  0,  0,  
 0,  0,  0,  75, m,  76, m,  m,  77, m,  75, 0,  0,  0,  
 0,  0,  0,  m,  0,  0,  m,  m,  0,  0,  m,  0,  0,  0,  
 0,  0,  75, 76, 0,  75, 76, 77, 75, 0,  77, 75, 0,  0,  
 0,  0,  145,0,  0,  m,  0,  0,  m,  0,  0,  145,0,  0,  
 0,  0,  145,0,  0,  m,  0,  0,  m,  0,  0,  145,0,  0,  
 0,  0,  77, 75, 0,  77, 75, 75, 76, 0,  75, 76, 0,  0,  
 0,  0,  0,  m,  0,  0,  m,  m,  0,  0,  m,  0,  0,  0,  
 0,  0,  0,  77, m,  75, m,  m,  75, m,  76, 0,  0,  0,  
 0,  0,  0,  0,  0,  m,  m,  m,  m,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  145,m,  145,m,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  145,m,  145,m,  0,  0,  0,  0,  0,  
 0,  0,  0,  146,0,  145,m,  145,m,  0,  147,0,  0,  0,  
 0,  146,0,  0,  0,  145,m,  145,m,  0,  0,  0,  147,0,  
 0,  0,  0,  0,  0,  145,m,  145,m,  0,  0,  0,  0,  0,  
 0,  0,  0,  146,0,  145,m,  145,m,  0,  147,0,  0,  0,  
 0,  146,0,  0,  0,  m,  145,m,  145,0,  0,  0,  147,0,  
 0,  0,  0,  0,  0,  m,  145,m,  145,0,  0,  0,  0,  0,  
 0,  0,  0,  146,0,  m,  145,m,  145,0,  147,0,  0,  0,  
 0,  146,0,  0,  0,  m,  145,m,  145,0,  0,  0,  147,0,  
 0,  0,  0,  0,  0,  m,  145,m,  145,0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  m,  m,  m,  m,  0,  0,  0,  0,  0,  
 0,  0,  0,  75, m,  76, m,  m,  77, m,  75, 0,  0,  0,  
 0,  0,  0,  m,  0,  0,  m,  m,  0,  0,  m,  0,  0,  0,  
 0,  0,  0,  m,  0,  75, 76, 77, 75, 0,  m,  0,  0,  0,  
 0,  75, m,  76, 0,  m,  0,  0,  m,  0,  77, m,  75, 0,  
 0,  145,0,  0,  0,  m,  0,  0,  m,  0,  0,  0,  145,0,  
 0,  145,0,  75, m,  76, 0,  0,  77, m,  75, 0,  145,0,  
 0,  145,0,  m,  0,  0,  0,  0,  0,  0,  m,  0,  145,0,  
 0,  145,0,  77, m,  75, 0,  0,  75, m,  76, 0,  145,0,  
 0,  77, m,  75, 0,  m,  0,  0,  m,  0,  75, m,  76, 0,  
 0,  0,  0,  145,0,  77, 75, 75, 76, 0,  145,0,  0,  0,  
 0,  0,  0,  145,0,  0,  m,  m,  0,  0,  145,0,  0,  0,  
 0,  0,  0,  145,0,  75, 76, 77, 75, 0,  145,0,  0,  0,  
 0,  0,  75, 76, 0,  m,  0,  0,  m,  0,  77, 75, 0,  0,  
 0,  0,  m,  0,  0,  m,  0,  0,  m,  0,  0,  m,  0,  0,  
 0,  0,  m,  0,  0,  77, 75, 75, 76, 0,  0,  m,  0,  0,  
 0,  0,  77, m,  75, 0,  m,  m,  0,  75, m,  76, 0,  0,  
 0,  0,  0,  0,  77, 75, m,  m,  75, 76, 0,  0,  0,  0,  
 0,  0,  0,  0,  0,  m,  m,  m,  m,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  m,  145,145,m,  0,  0,  0,  0,  0,  
 0,  0,  0,  146,0,  145,145,145,145,0,  147,0,  0,  0,  
 0,  146,0,  0,  0,  145,m,  m,  145,0,  0,  0,  147,0,  
 0,  0,  0,  0,  0,  m,  m,  m,  m,  0,  0,  0,  0,  0,  
 0,  0,  146,0,  0,  m,  145,145,m,  0,  0,  147,0,  0,  
 0,  0,  0,  0,  0,  145,145,145,145,0,  0,  0,  0,  0,  
 0,  0,  0,  146,0,  145,m,  m,  145,0,  147,0,  0,  0,  
 0,  146,0,  0,  0,  m,  m,  m,  m,  0,  0,  0,  147,0,  
 0,  0,  0,  0,  0,  m,  145,145,m,  0,  0,  0,  0,  0,  
 0,  0,  146,0,  0,  145,145,145,145,0,  0,  147,0,  0,  
 0,  0,  0,  0,  75, 76, m,  m,  77, 75, 0,  0,  0,  0,  
 0,  0,  0,  75, 76, 0,  m,  m,  0,  77, 75, 0,  0,  0,  
 0,  0,  0,  145,0,  75, 76, 77, 75, 0,  m,  0,  0,  0,  
 0,  0,  0,  145,0,  m,  0,  0,  m,  0,  m,  0,  0,  0,  
 0,  0,  0,  145,0,  m,  0,  0,  m,  0,  m,  0,  0,  0,  
 0,  0,  0,  145,0,  m,  0,  0,  m,  0,  m,  0,  0,  0,  
 0,  0,  0,  145,0,  m,  0,  0,  m,  0,  m,  0,  0,  0,  
 0,  0,  0,  145,0,  m,  0,  0,  m,  0,  m,  0,  0,  0,  
 0,  0,  0,  77, 75, 77, 75, 75, 76, 75, 76, 0,  0,  0,  
 0,  0,  0,  0,  m,  0,  m,  m,  0,  m,  0,  0,  0,  0,  
 0,  0,  146,0,  77, 75, m,  m,  75, 76, 0,  147,0,  0,  
 0,  0,  0,  0,  0,  m,  m,  m,  m,  0,  0,  0,  0,  0,  
 0,  75, m,  m,  m,  76, 76, 77, 77, m,  m,  m,  75, 0,  
 0,  m,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  145,0,  
 0,  m,  0,  1,  1,  1,  1,  1,  1,  1,  1,  0,  145,0,  
 0,  m,  0,  1,  1,  1,  1,  1,  1,  1,  1,  0,  145,0,  
 0,  m,  0,  1,  1,  1,  1,  1,  1,  1,  1,  0,  145,0,  
 0,  m,  0,  1,  1,  1,  1,  1,  1,  1,  1,  0,  145,0,  
 0,  m,  0,  0,  0,  65, 0,  0,  0,  0,  0,  0,  145,0,  
 0,  77, m,  m,  m,  1,  0,  0,  75, m,  m,  m,  76, 0,  
 0,  0,  0,  0,  0,  m,  0,  0,  145,0,  0,  0,  0,  0,  
 0,  146,0,  147,0,  m,  0,  0,  145,0,  147,0,  146,0,  
 0,  0,  79, 0,  0,  m,  0,  0,  145,0,  0,  79, 0,  0,  
 0,  147,0,  146,0,  m,  0,  0,  145,0,  146,0,  147,0,  
 0,  0,  0,  0,  0,  m,  0,  0,  145,0,  0,  0,  0,  0,  
 0,  75, m,  m,  m,  76, 0,  0,  77, m,  m,  m,  75, 0,  
 0,  m,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  m,  0,  
 0,  m,  0,  136,1,  136,1,  136,1,  136,1,  0,  m,  0,  
 0,  m,  0,  1,  136,1,  136,1,  136,1,  136,0,  m,  0,  
 0,  m,  0,  136,1,  136,1,  136,1,  136,1,  0,  m,  0,  
 0,  m,  0,  1,  136,1,  136,1,  136,1,  136,0,  m,  0,  
 0,  m,  0,  0,  0,  0,  0,  0,  65, 0,  0,  0,  m,  0,  
 0,  77, 145,145,145,75, 0,  0,  1,  m,  m,  m,  76, 0,  
 0,  0,  0,  0,  0,  145,0,  0,  m,  0,  0,  0,  0,  0,  
 0,  136,1,  66, 0,  145,0,  0,  m,  0,  66, 1,  136,0,  
 0,  1,  1,  1,  0,  145,0,  0,  m,  0,  1,  1,  1,  0,  
 0,  1,  1,  1,  m,  76, 0,  0,  77, m,  1,  1,  1,  0,  
 0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  
 0,  77, m,  m,  m,  m,  75, 75, m,  m,  m,  m,  76, 0,  
 0,  m,  0,  0,  0,  0,  m,  m,  0,  0,  0,  0,  m,  0,  
 0,  m,  0,  66, 1,  1,  m,  m,  1,  1,  66, 0,  m,  0,  
 0,  m,  0,  1,  1,  1,  m,  m,  1,  1,  1,  0,  m,  0,  
 0,  74, 65, 1,  1,  136,m,  m,  136,1,  1,  65, 74, 0,  
 0,  0,  0,  0,  0,  0,  m,  m,  0,  0,  0,  0,  0,  0,  
 0,  0,  146,79, 147,0,  m,  m,  0,  146,79, 147,0,  0,  
 0,  146,79, 147,79, 0,  m,  m,  0,  79, 146,79, 147,0,  
 0,  0,  146,79, 147,0,  m,  m,  0,  146,79, 147,0,  0,  
 0,  0,  0,  0,  0,  0,  m,  m,  0,  0,  0,  0,  0,  0,  
 0,  75, m,  m,  m,  m,  76, 77, m,  m,  75, 0,  0,  0,  
 0,  m,  0,  0,  0,  0,  0,  0,  0,  0,  m,  0,  0,  0,  
 0,  77, m,  m,  145,145,145,145,145,145,m,  m,  75, 0,  
 0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  m,  0,  m,  0,  
 0,  0,  0,  75, m,  m,  m,  m,  m,  m,  m,  m,  76, 0,  
 0,  0,  0,  m,  0,  0,  0,  0,  0,  0,  m,  0,  0,  0,  
 0,  75, m,  m,  145,145,145,145,145,145,76, 0,  0,  0,  
 0,  m,  0,  m,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  
 0,  77, m,  m,  m,  m,  m,  m,  m,  m,  m,  m,  75, 0,  
 0,  0,  0,  m,  0,  0,  0,  0,  0,  0,  0,  0,  m,  0,  
 0,  0,  0,  77, 145,145,145,145,145,145,75, 0,  m,  0,  
 0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  m,  0,  m,  0,  
 0,  75, 145,145,145,145,145,145,145,145,145,145,76, 0,  
 0,  m,  0,  0,  0,  0,  0,  0,  0,  0,  m,  0,  0,  0,  
 0,  77, m,  m,  m,  75, 0,  0,  75, m,  76, 0,  0,  0,  
 0,  0,  0,  0,  0,  m,  0,  0,  m,  0,  0,  0,  0,  0,  
 0,  146,79, 147,0,  m,  0,  0,  m,  0,  146,79, 147,0,  
 0,  0,  0,  0,  0,  m,  0,  0,  m,  0,  0,  0,  0,  0,  
 0,  1,  1,  1,  1,  1,  0,  0,  1,  1,  1,  1,  1,  0,  
 0,  75, 0,  75, 0,  75, 0,  0,  75, 0,  75, 0,  75, 0,  
 0,  m,  0,  m,  0,  m,  0,  0,  m,  0,  m,  0,  m,  0,  
 0,  145,0,  m,  0,  145,0,  0,  m,  0,  145,0,  145,0,  
 0,  m,  0,  m,  0,  m,  0,  0,  m,  0,  m,  0,  m,  0,  
 0,  m,  0,  m,  0,  m,  0,  0,  m,  0,  m,  0,  m,  0,  
 0,  m,  0,  m,  0,  m,  0,  0,  m,  0,  m,  0,  m,  0,  
 0,  m,  0,  m,  0,  m,  0,  0,  m,  0,  m,  0,  m,  0,  
 0,  m,  0,  145,0,  m,  0,  0,  145,0,  m,  0,  m,  0,  
 0,  m,  0,  145,0,  m,  0,  0,  145,0,  m,  0,  m,  0,  
 0,  m,  0,  145,0,  m,  0,  0,  145,0,  m,  0,  m,  0,  
 0,  m,  0,  145,0,  m,  0,  0,  145,0,  m,  0,  m,  0,  
 0,  m,  0,  145,0,  m,  0,  0,  145,0,  m,  0,  m,  0,  
 0,  m,  0,  145,0,  m,  0,  0,  145,0,  m,  0,  m,  0,  
 0,  m,  0,  145,0,  77, 75, 75, 76,0,  m,  0,  m,  0,  
 0,  77, 75, 77, 75, 0,  m,  m,  0,  75, 76, 75, 76, 0,  
 0,  0,  m,  0,  145,0,  m,  m,  0,  145,0,  m,  0,  0,  
 0,  0,  m,  0,  145,0,  m,  m,  0,  145,0,  m,  0,  0,  
 0,  0,  m,  0,  145,0,  m,  m,  0,  145,0,  m,  0,  0,  
 0,  0,  m,  0,  145,0,  m,  m,  0,  145,0,  m,  0,  0,  
 0,  0,  m,  0,  145,0,  m,  m,  0,  145,0,  m,  0,  0,  
 0,  0,  m,  0,  145,0,  m,  m,  0,  145,0,  m,  0,  0,  
 0,  0,  m,  0,  145,0,  m,  m,  0,  145,0,  m,  0,  0,  
 0,  0,  145,0,  m,  0,  145,145,0,  m,  0,  145,0,  0,  
 0,  0,  145,0,  m,  0,  145,145,0,  m,  0,  145,0,  0,  
 0,  0,  m,  0,  m,  0,  m,  m,  0,  m,  0,  m,  0,  0,  
 0,  0,  m,  0,  m,  0,  m,  m,  0,  m,  0,  m,  0,  0,  
 0,  0,  m,  0,  m,  0,  m,  m,  0,  m,  0,  m,  0,  0,  
 0,  0,  m,  0,  m,  0,  m,  m,  0,  m,  0,  m,  0,  0,  
 0,  0,  77, 75, 77, 75, 75, 75, 75, 76, 75, 76, 0,  0,  
 0,  0,  0,  m,  0,  m,  145,145,m,  0,  m,  0,  0,  0,  
 0,  146,0,  145,0,  145,m,  m,  145,0,  145,0,  147,0,  
 0,  79, 0,  m,  0,  m,  145,145,m,  0,  m,  0,  79, 0,  
 0,  147,0,  145,0,  145,m,  m,  145,0,  145,0,  146,0,  
 0,  79, 0,  m,  0,  m,  145,145,m,  0,  m,  0,  79, 0,  
 0,  146,0,  145,0,  145,m,  m,  145,0,  145,0,  147,0,  
 0,  79, 0,  m,  0,  m,  145,145,m,  0,  m,  0,  79, 0,  
 0,  147,0,  145,0,  145,m,  m,  145,0,  145,0,  146,0,  
 0,  79, 0,  m,  0,  m,  145,145,m,  0,  m,  0,  79, 0,  
 0,  146,0,  145,0,  145,m,  m,  145,0,  145,0,  147,0,  
 0,  79, 0,  m,  0,  m,  145,145,m,  0,  m,  0,  79, 0,  
 0,  147,0,  145,0,  145,m,  m,  145,0,  145,0,  146,0,  
 0,  79, 0,  m,  0,  m,  145,145,m,  0,  m,  0,  79, 0,  
 0,  146,0,  77, m,  77, 75, 75, 76, m,  76, 0,  147,0,  
 0,  0,  0,  0,  0,  0,  m,  m,  0,  0,  0,  0,  0,  0,  
 0,  0,  146,79, 147,0,  145,145,0,  146,79, 147,0,  0,  
 0,  0,  0,  0,  0,  0,  m,  m,  0,  0,  0,  0,  0,  0,  
 0,  146,79, 147,0,  0,  145,145,0,  0,  146,79, 147,0,  
 0,  0,  0,  0,  0,  0,  m,  m,  0,  0,  0,  0,  0,  0,  
 0,  0,  146,79, 147,0,  145,145,0,  146,79, 147,0,  0,  
 0,  0,  0,  0,  0,  0,  m,  m,  0,  0,  0,  0,  0,  0,  
 0,  146,79, 147,0,  0,  145,145,0,  0,  146,79, 147,0,  
 0,  0,  0,  0,  0,  0,  m,  m,  0,  0,  0,  0,  0,  0,  
 0,  0,  146,79, 147,0,  145,145,0,  146,79, 147,0,  0,  
 0,  0,  0,  0,  0,  0,  m,  m,  0,  0,  0,  0,  0,  0,  
 0,  146,79, 147,0,  0,  145,145,0,  0,  146,79, 147,0,  
 0,  0,  0,  0,  0,  0,  59, 59, 0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  59, 59, 0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  59, 59, 0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  59, 59, 0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  59, 59, 0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  59, 59, 0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  59, 59, 0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  59, 59, 0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  59, 59, 0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  59, 59, 0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  59, 59, 0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  59, 59, 0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  59, 59, 0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  59, 59, 0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  137,1,  0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  138,0,  0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  1,  1,  1,  1,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  1,  1,  1,  1,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  1,  1,  1,  1,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  1,  1,  137,1,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  0,  138,0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  0,  52, 0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  0,  52, 0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  0,  52, 0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  0,  52, 0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  0,  52, 0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  0,  52, 0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  0,  52, 0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  0,  52, 0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  0,  1,  111,111,111,1,  0,  0,  
 0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  52, 0,  0,  
 0,  0,  148,148,148,148,148,148,148,148,0,  52, 0,  0,  
 0,  0,  148,148,148,148,148,148,148,148,0,  52, 0,  0,  
 0,  0,  138,0,  0,  0,  0,  0,  0,  0,  0,  52, 0,  0,  
 0,  0,  137,111,111,111,111,111,111,111,111,1,  0,  0,  
 0,  0,  52, 0,  0,  0,  0,  0,  0,  0,  0,  52, 0,  0,  
 0,  0,  1,  111,111,111,111,111,111,111,111,1,  0,  0,  
 0,  0,  52, 0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  
 0,  0,  52, 0,  0,  0,  0,  0,  0,  148,148,148,0,  0,  
 0,  0,  52, 0,  0,  0,  0,  0,  0,  148,148,148,0,  0,  
 0,  0,  52, 0,  0,  0,  0,  0,  0,  148,148,148,0,  0,  
 0,  0,  52, 0,  0,  0,  0,  0,  0,  0,  138,0,  0,  0,  
 0,  0,  52, 0,  1,  0,  1,  0,  1,  0,  137,0,  0,  0,  
 0,  0,  1,  111,1,  111,1,  111,1,  111,1,  1,  0,  0,  
 0,  0,  0,  0,  1,  0,  137,0,  1,  0,  0,  52, 0,  0,  
 0,  0,  0,  0,  0,  0,  138,0,  0,  0,  0,  52, 0,  0,  
 0,  148,148,148,0,  148,148,148,148,148,0,  52, 0,  0,  
 0,  148,148,148,0,  148,148,148,148,148,0,  52, 0,  0,  
 0,  148,148,148,0,  148,148,148,148,148,0,  52, 0,  0,  
 0,  0,  138,0,  0,  0,  0,  0,  0,  0,  0,  52, 0,  0,  
 0,  0,  137,0,  0,  1,  1,  1,  111,111,111,1,  0,  0,  
 0,  0,  148,0,  0,  52, 0,  52, 0,  0,  0,  0,  0,  0,  
 0,  0,  148,0,  1,  1,  0,  1,  1,  0,  0,  0,  0,  0,  
 0,  0,  148,0,  0,  52, 0,  52, 0,  0,  148,148,148,0,  
 0,  0,  148,0,  1,  1,  0,  1,  137,138,148,148,148,0,  
 0,  0,  148,0,  0,  52, 0,  52, 0,  0,  148,148,148,0,  
 0,  0,  148,138,137,1,  0,  1,  1,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  52, 0,  52, 0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  1,  1,  0,  1,  1,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  1,  137,1,  0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  138,0,  0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  75, 0,  0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  75, 0,  0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  75, 0,  0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  75, 0,  0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  75, 0,  0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  75, 0,  0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  75, 0,  0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  75, 0,  0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  75, 0,  0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  75, 0,  0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  75, 0,  0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  75, 0,  0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  79, 0,  0,  0,  0,  0,  0,  0,  
 0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0];

	mapW = slideMapW;
	mapH = slideMapH;
	gameMap = slideGameMap;

	resetItemMap();

	for(let x = 3; x < 11; x++)
	{
		for(let y = 107; y < 111; y++)
		{
			itemMap[toIndex(x,y)] = randomInt(5)+2;
		}
	}
	for(let x = 3; x < 11; x++)
	{
		for(let y = 120; y < 124; y++)
		{
			itemMap[toIndex(x,y)] = randomInt(5)+2;
		}
	}

	for(let y = 0; y < mapH; y++)
	{
		for(let x = 0; x < mapW; x++)
		{
			// gameMap[toIndex(x,y)] = null;
			if(gameMap[toIndex(x,y)] == 200) 
			{ 
				gameMap[toIndex(x,y)] = randomInt(6) + 122;
			}
			if(gameMap[toIndex(x,y)] == null) 
			{ 
				if(y % 1 == 0) { 
					if(x % 2 == 0) { gameMap[toIndex(x,y)] = 113; }
					else { gameMap[toIndex(x,y)] = 114;  }
				}
				if(y % 2 == 0) { 
					if(x % 2 == 0) { gameMap[toIndex(x,y)] = 115; }
					else { gameMap[toIndex(x,y)] = 116;  }
				}
				if(y % 3 == 0) { 
					if(x % 2 == 0) { gameMap[toIndex(x,y)] = 117; }
					else { gameMap[toIndex(x,y)] = 118;  }
				}
				
			}
			if(gameMap[toIndex(x,y)] == 145)
			{
				if(x % 1 == 0) { 
					if(y % 2 == 0) { itemMap[toIndex(x,y)] = 5; }
					else { itemMap[toIndex(x,y)] = 6;  }
				}
				if(x % 2 == 0) { 
					if(y % 2 == 0) { itemMap[toIndex(x,y)] = 7; }
					else { itemMap[toIndex(x,y)] = 8;  }
				}
				if(x % 3 == 0) { 
					if(y % 2 == 0) { itemMap[toIndex(x,y)] = 3; }
					else { itemMap[toIndex(x,y)] = 4;  }
				}
			}
		}
	}

	resetAlphaMap();
	dropGuards('slide');



	if(secretSlideEntrance) { 
		secretsObtained++;
		starting_pos = [4,2]; 
		viewport.endTile = [12, 9]
		viewport.offset = [125, 175]
		viewport.startTile = [0, 0]}
	else { 
		starting_pos = [6,231];
		viewport.endTile = [13, 238]
		viewport.offset = [25, -11275]
		viewport.startTile = [0, 224]
		for(let y = 226; y < 230; y++)
		{
			gameMap[toIndex(6,y)] = 0;
			gameMap[toIndex(7,y)] = 0; 
		}
	}
	player.position[0] = starting_pos[0];
	player.position[1] = starting_pos[1];
	player.placeAt(player.position[0], player.position[1]);

	slideTick = false;

}



function drawSlideTiles(currentFrameTime, currentSecond)
{
	for(var y = viewport.startTile[1]; y <= viewport.endTile[1]; ++y)
	{
		for(var x = viewport.startTile[0]; x <= viewport.endTile[0]; ++x)
		{
			//draw gameMap
			var tile = tileTypes[gameMap[toIndex(x,y)]];
			ctx.drawImage(tileset, tile.sprite[0].x, tile.sprite[0].y, tile.sprite[0].w, tile.sprite[0].h,
				viewport.offset[0] + (x*tileW), viewport.offset[1] + (y*tileH), tileW, tileH);

			//itemMap
			if(itemMap[toIndex(x,y)] >= 2)
			{
				var item = itemTypes[itemMap[toIndex(x,y)]];
				ctx.drawImage(tileset, item.sprite[0].x, item.sprite[0].y, item.sprite[0].w, item.sprite[0].h,
					viewport.offset[0] + (x*tileW), viewport.offset[1] + (y*tileH), tileW, tileH);
			}


            if(alphaMap[toIndex(x,y)] > 0.0) 
            { 
                alphaMap[toIndex(x,y)] -= alphaReduction;
                ctx.fillStyle = `rgba(244,125,96,${alphaMap[toIndex(x,y)]})`;
                ctx.fillRect(viewport.offset[0] + (x*tileW), viewport.offset[1] + (y*tileH), tileW, tileH);  
            } 
            else { alphaMap[toIndex(x,y)] = 0.0; } 

			// if(x == playerX() && y == playerY()) { alphaMap[toIndex(x,y)] = 0; }
			// else { alphaMap[toIndex(x,y)] = 1-(5-getDistance(playerX(),playerY(),x,y)); }
			// // if(alphaMap[toIndex(x,y)] > 0.0) { alphaMap[toIndex(x,y)] -= alphaReduction;
			// ctx.fillStyle = `rgba(0,0,0,${alphaMap[toIndex(x,y)]})`;
			// ctx.fillRect(viewport.offset[0] + (x*tileW), viewport.offset[1] + (y*tileH), tileW, tileH);
			// // else { alphaMap[toIndex(x,y)] = 0.0; }
			
	
		}
	}

	drawGuards(0,0);

	//draw character
	sprite = player.sprites[player.direction];
	ctx.drawImage(tileset, sprite[0].x, sprite[0].y, sprite[0].w, sprite[0].h,
		viewport.offset[0] + player.position[0], viewport.offset[1] + player.position[1],
		player.dimensions[0], player.dimensions[1])

	if(playerY() >= 215) //229
	{
		for(var y = 200; y < mapH; ++y)
		{
			for(var x = 0; x < mapW; ++x)
			{
				if(x == playerX() && y == playerY()) { lightMap[toIndex(x,y)] = 0; }
				else { lightMap[toIndex(x,y)] = 1-(3-getDistance(playerX(),playerY(),x,y)); }
				// if(alphaMap[toIndex(x,y)] > 0.0) { alphaMap[toIndex(x,y)] -= alphaReduction;
				ctx.fillStyle = `rgba(0,0,0,${lightMap[toIndex(x,y)]})`;
				ctx.fillRect(viewport.offset[0] + (x*tileW), viewport.offset[1] + (y*tileH), tileW, tileH);
				// else { alphaMap[toIndex(x,y)] = 0.0; }
			}
		}
	}
	
}

function processSlideTiles(tick)
{
	if(tick)
	{
		if(playerY() == 229 && !stairBgEnded) { 
			stairBgEnded = true;
			playSnd(143);
			title = '???'
			stopBgSnd('slide1'); stopBgSnd('slide2'); 
			stopBgSnd('slide3'); stopBgSnd('slide4');
		}

		if(thisTileIs() >= 112 && thisTileIs() <= 121)
		{
			playSnd(gameMap[toIndex(playerX(),playerY())] + 50);
			player.delayMove = 500;
		}
		else { 
			player.delayMove = 250; 
			playSnd(gameMap[toIndex(playerX(),playerY())]);
		}
		if(
			playerY() == 5 || playerY() == 215)
		// 	playerY() == 28 ||
		// playerY() == 45 ||
		// playerY() == 66 ||
		// playerY() == 94 ||
		// playerY() == 104 || (playerX() == 8 && playerY() == 125))
		{ 
			playSnd(95);
		}
		pickUpItem();
		movePlayer(3,127,10,133,false);
		movePlayer(10,127,3,133,false);

		revealTiles(2,248,2,246,9,247);
		revealTiles(10,257,9,253,11,255);
		revealTiles(2,264,1,261,3,263);
		revealTiles(6,260,5,261,9,263);
		revealTiles(3,271,2,266,2,271)
		revealTiles(9,269,10,268,12,270);
		if(playerX() == 6 && playerY() == 288)
		{
			lobby2Tick = true;
			isLobby2 = true;
			isSlide = false;
		}
	}
}


function revealTiles(pX,pY,sX,sY,eX,eY)
{
	let thisRoom;
	let rooms = [[2,248],[10,257],[2,264],[6,260],[3,271],[9,269]];
	for(r = 0; r < rooms.length; r++)
	{
		if(pX == rooms[r][0] && pY == rooms[r][1])
		{
			thisRoom = r;
		}
	}

	if(gameMap[toIndex(pX,pY)] == 1 && activatedSlideRooms[thisRoom] == false)
	{
		activatedSlideRooms[thisRoom] = true;
		playSnd(randomInt(4) + 146);
		for(let x = sX; x <= eX; x++)
		{
			for(let y = sY; y <= eY; y++)
			{
				if(x == 2 && y == 264) { 
					gameMap[toIndex(x,y)] = 138;
				}
				else if(x == 2 && y == 265) { 
					gameMap[toIndex(x,y)] = 137;
				}
				else
				{
					gameMap[toIndex(x,y)] = 1;
					itemMap[toIndex(x,y)] = randomInt(5) + 2;
				}
			}
		}
	}

}